/* Bootstrap 4 Custom Controls (轉換自 bootstrap-4-custom-control.scss) */

@layer components {
  /* Bootstrap 4 Custom Switch */
  .custom-control.custom-switch {
    @apply pl-9; /* 2.25rem */
  }

  .custom-control {
    @apply relative z-[1] block min-h-6 pl-6; /* min-height: 1.5rem, padding-left: 1.5rem */
  }

  .custom-control-input {
    @apply absolute left-0 w-4 h-5 opacity-0;
    z-index: -1;
  }

  .custom-control-label {
    @apply relative mb-0 align-top;
  }

  /* Custom Switch Checked State */
  .custom-switch .custom-control-input:checked ~ .custom-control-label::after {
    @apply bg-white;
    transform: translate(0.75rem);
  }

  /* Custom Switch Toggle */
  .custom-switch .custom-control-label::after {
    @apply w-3 h-3 bg-gray-400 rounded-lg;
    top: calc(0.25rem + 2px);
    left: calc(-2.25rem + 2px);
    transition: transform 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
  }

  .custom-control-label::after {
    @apply absolute block w-4 h-4;
    top: 0.25rem;
    left: -1.5rem;
    content: "";
    background: 50%/50% 50% no-repeat;
    background-color: rgba(0, 0, 0, 0);
  }

  /* Checked State */
  .custom-control-input:checked ~ .custom-control-label::before {
    color: #3e3a39;
    border-color: #3e3a39;
    background-color: #3e3a39;
  }

  /* Custom Switch Background */
  .custom-switch .custom-control-label::before {
    @apply rounded-lg;
    left: -2.25rem;
    width: 1.75rem;
    pointer-events: all;
  }

  /* Base Custom Control Styling */
  .custom-control-label::before,
  .custom-file-label,
  .custom-select {
    transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
  }

  .custom-control-label::before {
    @apply absolute block w-4 h-4 bg-white border border-gray-400;
    top: 0.25rem;
    left: -1.5rem;
    pointer-events: none;
    content: "";
  }

  /* Custom Checkbox */
  .custom-checkbox .custom-control-input:checked ~ .custom-control-label::after {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%23fff' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26l2.974 2.99L8 2.193z'/%3e%3c/svg%3e");
  }

  /* Custom Radio */
  .custom-radio .custom-control-label::before {
    @apply rounded-full;
  }

  .custom-radio .custom-control-input:checked ~ .custom-control-label::after {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e");
  }

  /* Custom File Input */
  .custom-file {
    @apply relative inline-block w-full mb-0;
    height: calc(1.5em + 0.75rem + 2px);
  }

  .custom-file-input {
    @apply relative w-full m-0 overflow-hidden opacity-0;
    z-index: 2;
    height: calc(1.5em + 0.75rem + 2px);
  }

  .custom-file-input ~ .custom-file-label[data-browse]::after {
    content: attr(data-browse);
  }

  .custom-file-input:focus ~ .custom-file-label {
    @apply border-blue-300;
    box-shadow: 0 0 0 0.2rem rgb(0 123 255 / 25%);
  }

  .custom-file-label {
    @apply absolute inset-0 z-[1] overflow-hidden font-normal leading-6 text-gray-700 bg-white border border-gray-300;
    height: calc(1.5em + 0.75rem + 2px);
    padding: 0.375rem 0.75rem;
  }

  .custom-file-label::after {
    @apply absolute top-0 right-0 bottom-0 z-[3] block text-gray-700 bg-gray-100;
    height: calc(1.5em + 0.75rem);
    padding: 0.375rem 0.75rem;
    line-height: 1.5;
    content: "Browse";
    border-left: inherit;
  }

  /* Form Groups and Controls */
  .form-group {
    @apply mb-4;
  }

  .ec-form-control,
  .form-control {
    height: calc(1.5em + 0.75rem + 2px);
    appearance: auto;
  }

  .ec-form-check-inline .ec-form-check-input,
  .form-check-inline .form-check-input {
    @apply static mt-0 mr-1 ml-0; /* margin-right: 0.3125rem */
  }

  /* Form Row */
  .form-row {
    @apply flex flex-wrap;
    margin-right: -5px;
    margin-left: -5px;
  }

  .form-row > .col,
  .form-row > [class*="col-"],
  .form-row > .ec-col,
  .form-row > [class*="ec-col-"] {
    @apply pr-1 pl-1; /* padding: 5px */
  }

  /* Disabled Controls */
  .ec-form-control:disabled,
  .ec-form-control[readonly],
  .form-control:disabled,
  .form-control[readonly] {
    @apply bg-gray-100 opacity-100;
  }

  .form-text {
    @apply block mt-1;
  }

  /* Form Check Inline */
  .ec-form-check.ec-form-check-inline,
  .form-check.form-check-inline {
    @apply pl-0;
  }

  .ec-form-check-inline,
  .form-check-inline {
    @apply items-center pl-0 mr-3;
  }

  .ec-form-check,
  .form-check {
    @apply pl-5 mb-0;
  }

  /* Border Styling */
  .ec-form-control,
  .form-control,
  .custom-file-label {
    border-color: var(--color-gray-400);
    border-radius: 4px;
  }

  /* Focus States */
  .custom-control-input:focus:not(:checked) ~ .custom-control-label::before {
    border-color: var(--color-gray-800);
  }

  .custom-control-input:focus ~ .custom-control-label::before {
    @apply shadow-none;
  }
}